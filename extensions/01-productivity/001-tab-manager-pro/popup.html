<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tab Manager Pro</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <!-- 標題列 -->
    <header class="header">
      <h1 class="title">Tab Manager Pro</h1>
      <div class="tab-count">
        <span id="tabCount">0</span> 個標籤
      </div>
    </header>

    <!-- 搜尋與工具列 -->
    <div class="toolbar">
      <div class="search-box">
        <svg class="search-icon" viewBox="0 0 24 24" width="16" height="16">
          <path fill="currentColor" d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
        </svg>
        <input type="text" id="searchInput" placeholder="搜尋標籤..." autofocus>
        <button id="clearSearch" class="clear-btn" title="清除搜尋">×</button>
      </div>
      <div class="actions">
        <button id="sortBtn" class="action-btn" title="排序">
          <svg viewBox="0 0 24 24" width="18" height="18">
            <path fill="currentColor" d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"/>
          </svg>
        </button>
        <button id="closeOthersBtn" class="action-btn" title="關閉其他標籤">
          <svg viewBox="0 0 24 24" width="18" height="18">
            <path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
          </svg>
        </button>
        <button id="settingsBtn" class="action-btn" title="設定">
          <svg viewBox="0 0 24 24" width="18" height="18">
            <path fill="currentColor" d="M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- 排序選單 -->
    <div id="sortMenu" class="dropdown-menu hidden">
      <button class="menu-item" data-sort="default">預設順序</button>
      <button class="menu-item" data-sort="title">依標題排序</button>
      <button class="menu-item" data-sort="url">依網域排序</button>
      <button class="menu-item" data-sort="recent">依最近使用排序</button>
    </div>

    <!-- 標籤列表 -->
    <div id="tabList" class="tab-list">
      <div class="loading">載入中...</div>
    </div>

    <!-- 空狀態 -->
    <div id="emptyState" class="empty-state hidden">
      <svg viewBox="0 0 24 24" width="48" height="48">
        <path fill="currentColor" d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
      </svg>
      <p>找不到符合的標籤</p>
    </div>

    <!-- 設定面板 -->
    <div id="settingsPanel" class="settings-panel hidden">
      <div class="settings-header">
        <h2>設定</h2>
        <button id="closeSettings" class="close-btn">×</button>
      </div>
      <div class="settings-content">
        <label class="setting-item">
          <input type="checkbox" id="showFavicons" checked>
          <span>顯示網站圖示</span>
        </label>
        <label class="setting-item">
          <input type="checkbox" id="closeOnSwitch">
          <span>切換後關閉彈出視窗</span>
        </label>
        <label class="setting-item">
          <input type="checkbox" id="searchInUrl" checked>
          <span>搜尋網址</span>
        </label>
        <label class="setting-item">
          <input type="checkbox" id="searchInTitle" checked>
          <span>搜尋標題</span>
        </label>
      </div>
    </div>

    <!-- 鍵盤快捷鍵提示 -->
    <footer class="footer">
      <span class="shortcut">↑↓ 導航</span>
      <span class="shortcut">Enter 切換</span>
      <span class="shortcut">Del 關閉</span>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>
</html>
